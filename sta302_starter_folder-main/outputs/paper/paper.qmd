---
title: "What should the minimum wage be to live in Toronto for households?"
subtitle: "My subtitle if needed"
author: 
  - Sean Liu
thanks: "Code and data are available at: LINK."
date: today
date-format: long
abstract: "The paper is not yet close to complete."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(knitr)
library(modelsummary)
install.packages("janitor")
library(janitor)
```

# Introduction

As the living cost in the Greater Toronto Area kept rising, an interesting topic has always been discussed by the residents, "What should the minimum wage be to live in Toronto for households?" According to (Reference) However, the current minimum wage in Ontario is $16.55 per hour. I will be using the data set in 2022 and the 

The remainder of this paper is structured as follows. @sec-data....



# 2.1 Data {#sec-data}

The data is of (@Figure-1), from @palmerpenguins and the data set is refreshed annually. It contains the income scenarios without the government subsidies, the housing rental price is the price of market rent and it is based on the average market rent as of June 2022, as measured by the Toronto Regional Real Estate Board (TRREB). (reference) The data is for the City of Toronto to monitor the affordability of food to people. The cost of food was measured annually using the Nutritious Food Basket (NFB) costing tool. To find out the ability for low incomes people to have enough money to cover the cost of basic expenses, including food. The data set provides the affordability of food and other basic expenses relative to income for nine household scenarios. (REFERENCE)
Scenarios were selected to reflect household characteristics that increase the risk of being food insecure, including reliance on social assistance as the main source of income, single-parent households, and rental housing. A median income scenario has also been included as a comparetor.
Income, including federal and provincial tax benefits, and the cost of four basic living expenses - shelter, food, childcare, and transportation - are estimated for each scenario. Results show the amount of money remaining at the end of the month for each household.

```{r}
#| label: Figure-1
#| fig-cap: Bills of penguins
#| echo: false
#| include: false

data_mkt_rent_nosub |> datasummary_skim(type = "categorical")
head(data_mkt_rent_nosub)
tail(data_mkt_rent_nosub)
clean_data <- clean_names(data_mkt_rent_nosub)
head(clean_data)
print(clean_data)
```

# 2.2 Clean Data

As the main focus of this paper will be focusing on how much minimum wage will be enough in order to live in Toronto. Therefore, I have cleaned up the scenarios for people that are receiving the Old Aged Securities, as people in this scenarios wouldn't be having a job or a minimum pay job. To simplify the analysis process, the missing entries will be removed. Also, the I will be narrowing down the scenarios into 3 scenarios. In Scenario 1, it shows the financial situation of a full time minimum wage worker and with a family of 4. In Scenario 2, it shows the financial situation of a full time medium wage worker and with a family of 4. Lastly in Scenario 3, it shows a full time minimum wage worker but it is a single person household. 
For the Categories, the benefit income includes the Canada Child Benefit, GST/HST credit, Ontario Trillium Benefit, Canada Worker Benefit, and Climate Action Incentive Payment. The expenses includes the Average Monthly Rent, Food, Childcare, and Transportation. Notice that in Scenario 1 and 2 the expenses will be equal as we wanted to show how wages can affect a household.
```{r}
#| echo: false
#| include: false
data_mkt_rent_nosub$Scenario.7..One.Person.Household..Old.Age.Security..Guaranteed.Annual.Income.Supplement <- NULL
print(x)

```

And also planes (@fig-planes). (You can change the height and width, but don't worry about doing that until you have finished every other aspect of the paper - Quarto will try to make it look nice and the defaults usually work well once you have enough text.)

```{r}

#| label: fig-planes
#| fig-cap: Relationship between wing length and width
#| echo: false
#| warning: false
#| message: false

# analysis_data <- read_csv(here::here("outputs/data/analysis_data.csv"))

#analysis_data |> 
  #ggplot(aes(x = width, y = length)) +
  #geom_point(alpha = 0.8) +
  #theme_minimal() +
  #labs(x = "Wing width (mm)",
       #y = "Wing length (mm)")

```

Talk way more about it. 

```{r}
library(ggplot2)

# Create a pie chart using ggplot2
ggplot(SC1_Benefit, aes(x = "", y = Amount, fill = Category)) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar(theta = "y") +
  ggtitle("Pie Chart of Benefit Incomesfor Scenario 1") +
  scale_fill_manual(values = rainbow(length(unique(SC1_Benefit$Category))))

ggplot(SC2_Benefit, aes(x = "", y = Amount, fill = Category)) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar(theta = "y") +
  ggtitle("Pie Chart of Benefit Incomesfor Scenario 2") +
  scale_fill_manual(values = rainbow(length(unique(SC2_Benefit$Category))))

ggplot(SC3_Benefit, aes(x = "", y = Amount, fill = Category)) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar(theta = "y") +
  ggtitle("Pie Chart of Benefit Incomesfor Scenario 3") +
  scale_fill_manual(values = rainbow(length(unique(SC3_Benefit$Category))))
```


# Model

The goal of our modelling strategy is twofold. Firstly,...

Here we briefly describe the Bayesian analysis model used to investigate... Background details and diagnostics are included in [Appendix -@sec-model-details].

## Model set-up

Define $y_i$ as the number of seconds that the plane remained aloft. Then $\beta_i$ is the wing width and $\gamma_i$ is the wing length, both measured in millimeters.  

\begin{align} 
y_i|\mu_i, \sigma &\sim \mbox{Normal}(\mu_i, \sigma) \\
\mu_i &= \alpha + \beta_i + \gamma_i\\
\alpha &\sim \mbox{Normal}(0, 2.5) \\
\beta &\sim \mbox{Normal}(0, 2.5) \\
\gamma &\sim \mbox{Normal}(0, 2.5) \\
\sigma &\sim \mbox{Exponential}(1)
\end{align}

We run the model in R [@citeR] using the `rstanarm` package of @rstanarm. We use the default priors from `rstanarm`.


### Model justification

We expect a positive relationship between the size of the wings and time spent aloft. In particular...

We can use maths by including latex between dollar signs, for instance $\theta$.


# Results

Our results are summarized in @tbl-modelresults.

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

library(rstanarm)

#first_model <-
  #readRDS(file = here::here("outputs/models/first_model.rds"))
```

```{r}
#| echo: false
#| eval: true
#| label: tbl-modelresults
#| tbl-cap: "Explanatory models of flight time based on wing width and wing length"
#| warning: false

#modelsummary::modelsummary(
  #list(
    #"First model" = first_model
  #),
  #statistic = "mad",
  #fmt = 2
#)
```




# Discussion


## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

\appendix

# Appendix {-}


# Additional data details



\newpage


# References


